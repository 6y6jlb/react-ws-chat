{"version":3,"sources":["state/context.ts","reportWebVitals.ts","utils/styles.ts","components/NavBar/styles.ts","state/chatStore.ts","components/Clock/styles.ts","utils/time.ts","components/Clock/Clock.tsx","components/Loader/Loader.tsx","components/Chat/styles.ts","components/Message/styles.ts","utils/const.ts","components/App/const.ts","components/Message/Message.tsx","components/Emoji/styles.ts","components/Emoji/Emoji.tsx","components/Chat/Chat.tsx","components/BasicJoinForm/styles.ts","utils/routes.ts","components/BasicJoinForm/const.ts","components/BasicJoinForm/BasicJoinForm.tsx","components/BasicJoinForm/validator.tsx","components/Login/styles.ts","components/Registration/styles.ts","components/JoinOptions/styles.ts","components/JoinOptions/JoinOptions.tsx","components/Login/Login.tsx","components/Registration/Registration.tsx","components/Weather/styles.ts","components/Weather/Weather.tsx","components/NavBar/NavBar.tsx","http/chatApiInstance.ts","service/AuthService.ts","state/meStore.ts","components/AppRoute/AppRoute.tsx","http/funFactApiInstance.ts","service/DayFactService.ts","service/WeatherService.ts","state/utilityStore.ts","components/App/App.tsx","index.tsx"],"names":["MyContext","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","title","fontFamily","fontSize","useStyles","makeStyles","display","gridAutoRows","justifyItems","minHeight","alignItems","textTransform","onlineCounter","color","React","defaultValue","MESSAGE_ENUM","timeRoot","whiteSpace","getTime","date","getTwoDig","time","string","toString","length","hour","getHours","min","getMinutes","sec","getSeconds","timeConverter","UNIX_timestamp","a","Date","year","getFullYear","month","getMonth","getDate","Clock","props","children","clocRef","useState","setTime","styles","useEffect","clearId","setTimeout","clearTimeout","ref","className","Loader","Container","Grid","container","justifyContent","style","height","window","innerHeight","CircularProgress","messagesRoot","maxHeight","messages","width","backgroundColor","overflowY","newMessageRoot","position","rowGap","textField","btn","border","mainBlock","minWidth","margin","borderRadius","maxWidth","padding","info","name","copy","cursor","opacity","top","LANG","ChatStore","messageValue","isLoading","isConnected","connectionCounter","makeAutoObservable","this","deep","value","count","Message","observer","isMe","message","useContext","chat","event","CONNECTION","setConnectionCounter","marginLeft","marginRight","paddingRight","direction","MESSAGE","justifySelf","borderBottom","toUpperCase","body","onClick","navigator","clipboard","writeText","right","left","emojiRoot","zIndex","picker","Emoji","frameWidth","isShowEmoji","setIsShowEmoji","classNames","onBlur","native","groupNames","smileys_people","disableAutoFocus","onEmojiClick","emojiObject","setMessageValue","emoji","skinTone","SKIN_TONE_MEDIUM_DARK","Button","Chat","me","socket","chatRef","useRef","formik","useFormik","initialValues","onSubmit","values","trim","id","now","email","send","JSON","stringify","sendMessage","messagesLength","current","scrollTo","scrollHeight","scrollToBottom","handleSubmit","map","mes","TextField","label","variant","autoComplete","onChange","e","currentTarget","clientWidth","type","root","marginTop","selectWrapper","alignContent","alert","fieldWrapper","validatorMessage","ROUTES","LANG_OBJ","Object","create","LANG_FORM_PROP","RU","EN","LANGUAGE","BasicJoinForm","withOptions","submitButtonText","showAlert","onCloseAlert","password","country","city","language","validate","errors","console","log","Box","Grow","in","Alert","onClose","severity","transformOrigin","timeout","gap","FormControl","fullWidth","classes","InputLabel","Select","labelId","handleChange","MenuItem","autoFocus","required","inputProps","form","disabled","isValid","dirty","gridTemplateColumns","columnGap","publicRoutes","path","JOIN_ROUTE","Component","item","to","REGISTRATION_ROUTE","size","LOGIN_ROUTE","login","timeOutId","setShowAlert","registration","onShowAlert","useCallback","CHAT_ROUTE","PROFILE_ROUTE","description","iconWrapper","icon","Weather","utility","fetchWeather","toJS","weather","Table","TableRow","TableCell","align","src","Math","ceil","main","temp","feels_like","NavBar","clockRef","isAuthorized","isLoginPage","useLocation","pathname","includes","isLJoinPage","emptyBoxWidth","offsetWidth","onLogout","logout","AppBar","elevation","baseURL","chatApiInstance","axios","interceptors","request","use","config","headers","Authorization","localStorage","getItem","response","error","originalRequest","status","_isRetry","post","withCredentials","setItem","data","accessToken","AuthService","instance","delete","MeStore","setMe","user","setAuthData","warn","refresh","AppRoute","component","exact","dayFactApiInstance","DayFactService","get","WeatherService","chatInstance","UtilityStore","fact","fetchFact","setFact","contents","setWeather","App","utilityStore","setSocket","connect","setLoading","WebSocket","onmessage","messageEvent","setMessages","parse","onopen","setConnected","onclose","onerror","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aba0508e.chunk.js","sourcesContent":["import * as React from \"react\";\n\nlet defaultValue: any;\nexport let MyContext: React.Context<any>;\nMyContext = React.createContext (defaultValue);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const title = {\n        fontFamily:'monospace',\n        fontSize:'2rem'\n}\n","import { makeStyles } from '@mui/styles';\nimport {title} from \"../../utils/styles\";\n\nexport const useStyles = makeStyles({\n    title: {\n        display:\"grid\",\n        // gridTemplateRows:'1fr 1fr',\n        gridAutoRows:'auto',\n        justifyItems:\"center\",\n        minHeight:90,\n        alignItems:'center',\n        '&>div:first-child':{\n            ...title,\n            textTransform:\"uppercase\",\n        }\n    },\n    onlineCounter:{\n        color:\"grey\"\n    },\n});","import {makeAutoObservable} from \"mobx\";\n\n\nexport enum MESSAGE_ENUM {\n    MESSAGE = 'message',\n    QUIT = 'quit',\n    CONNECTION = 'connection'\n}\n\n\nexport interface IMessage {\n    event: MESSAGE_ENUM;\n    id: string;\n    name: string;\n    body: string;\n    connectionCounter: number;\n}\n\n\ninterface IChat {\n    messages: IMessage[];\n    messageValue: string;\n    isLoading: boolean;\n    isConnected: boolean;\n    connectionCounter?: number;\n    setConnected: (isConnected: boolean) => void;\n    setLoading: (isLoading: boolean) => void;\n    setMessageValue: (value: string) => void;\n    setMessages: (messages: any) => void;\n}\n\nclass ChatStore implements IChat {\n    messages = [] as IMessage[];\n    messageValue = '';\n    isLoading = false;\n    isConnected = false;\n    connectionCounter = 0;\n\n    constructor() {\n        makeAutoObservable ( this, {}, {deep: true} );\n    }\n\n\n    setConnected(isConnected: boolean) {\n        this.isConnected = isConnected;\n    };\n\n    setLoading(isLoading: boolean) {\n        this.isLoading = isLoading;\n    };\n\n    setMessageValue(value: string) {\n        this.messageValue = value;\n    };\n\n    setMessages(messages: any) {\n        this.messages =  [...this.messages,...messages, ];\n\n    };\n\n    setConnectionCounter(count: number) {\n        this.connectionCounter = count;\n    };\n}\n\nexport default ChatStore;","import { makeStyles } from '@mui/styles';\n\n\nexport const useStyles = makeStyles({\n    timeRoot:{\n       fontSize:'2rem',\n        fontFamily:\"monospace\",\n        color:'gray',\n        whiteSpace:'nowrap'\n    },\n});","\n\n\nexport const getTime = (date:Date) => {\n    const getTwoDig = (time:number) => {\n        const string = time.toString()\n        return string.length > 1 ? string : `0${string}`\n    }\n    const hour = getTwoDig(date.getHours())\n    const min = getTwoDig(date.getMinutes())\n    const sec = getTwoDig(date.getSeconds())\n    return `${ hour }: ${min }: ${ sec }`\n}\n\nconst timeFromUnix = (date:number) => {\n    return new Date(date * 1000)\n}\n\nexport const getDate = (date:number) => {\n    const fullDate = timeFromUnix(date)\n    const year = fullDate.getFullYear()\n    const month = fullDate.getMonth()\n    const day = fullDate.getDay()\n    return `${ year }: ${month }: ${ day }`\n}\nexport const timeConverter = (UNIX_timestamp:number) => {\n    // weird\n    const a = new Date(UNIX_timestamp / 1000);\n    const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\n    const year = a.getFullYear();\n    const month = months[a.getMonth()];\n    const date = a.getDate();\n    const hour = a.getHours();\n    const min = a.getMinutes();\n    const sec = a.getSeconds();\n    const time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;\n    return time;\n}","import * as React from 'react';\nimport {LegacyRef, useEffect, useRef, useState} from 'react';\nimport {useStyles} from './styles'\nimport {getTime} from \"../../utils/time\";\n\n\ninterface IProps {\n clocRef?:React.Ref<HTMLDivElement> | null\n}\n\nexport const Clock: React.FC<IProps> = (props) => {\n    const {children,clocRef} = props;\n    const [time, setTime] = useState ( new Date () );\n    const styles = useStyles();\n\n\n    useEffect ( () => {\n        const clearId = setTimeout ( () => setTime ( new Date () ), 1000 );\n        return () => clearTimeout ( clearId );\n    }, [time] );\n\n    return (\n        <div ref={clocRef} className={styles.timeRoot}>\n            { getTime(time)}\n        </div>\n    );\n};","// @flow\nimport {CircularProgress, Container, Grid} from '@mui/material';\nimport * as React from 'react';\n\n\ntype Props = {\n\n};\nexport const Loader = (props: Props) => {\n    return (\n        <Container>\n            <Grid container alignItems={\"center\"} justifyContent={\"center\"} style={{height: window.innerHeight-30}}>\n                    <CircularProgress color=\"primary\" />\n            </Grid>\n        </Container>\n    );\n};","import {makeStyles} from \"@mui/styles\";\n\nexport const useStyles = makeStyles({\n    messagesRoot: {\n        maxHeight: window.innerHeight - 30\n    },\n    messages: {\n        width: '100%',\n        height: '70vh',\n        backgroundColor: '#354765',\n        overflowY: 'auto'\n    },\n    newMessageRoot: {\n        position: 'relative',\n        width: '100%',\n        rowGap: 20,\n        color: '#ffffff'\n    },\n    textField:{\n        width:'80%'\n    },\n    btn:{\n        \"&.MuiButton-contained\": {\n            backgroundColor: '#3a64a8',\n            border:'none',\n            color: '#ffffff',\n            width:'20%',\n            height:56,\n            '&:hover':{\n                backgroundColor: '#7094d2',\n                color: '#354765',\n            }\n        },\n    }\n})","import { makeStyles } from '@mui/styles';\nimport {MOBIL} from \"../../utils/const\";\n\n\nexport const useStyles = makeStyles({\n    mainBlock:{\n        minWidth: '40vw',\n        margin: 10,\n        borderRadius: '4%',\n        maxWidth: '60%',\n        width: 'fit-content',\n        padding: 15,\n        display: 'grid',\n        justifyContent:'flexStart',\n        rowGap: 20,\n        fontFamily: 'serif',\n        position:'relative'\n    },\n    info: {\n        color:'#afbed2',\n        margin:'20px 30px'\n    },\n    name:{\n        display:'block',\n        maxWidth:'max-content'\n    },\n    copy:{\n        cursor:\"pointer\",\n        position:\"absolute\",\n        opacity:0.7,\n        top:8\n\n    },\n    date:{\n        fontSize:'0.7em'\n    },\n    [`@media (max-width:${MOBIL}px)`]: {\n        mainBlock:{\n            minWidth: '70vw',\n            fontSize: '1.4em'\n        },\n    }\n});","export const MOBIL = 520;","export enum LANG {\n    EN = 'EN',\n    RU = 'RU'\n};\n\nexport const LANG_OBJ = Object.create(LANG);","import * as React from 'react';\nimport {useContext} from 'react';\nimport {Grid} from \"@mui/material\";\nimport ContentCopyIcon from '@mui/icons-material/ContentCopy';\nimport {useStyles} from \"./styles\";\nimport {MESSAGE_ENUM} from \"../../state/chatStore\";\nimport {observer} from \"mobx-react-lite\";\nimport {timeConverter} from \"../../utils/time\";\nimport {MyContext} from \"../../state/context\";\n\n\ntype Props = {\n    isMe: boolean;\n    message: any;\n};\nexport const Message: React.FC<Props> = observer((props) => {\n    const {isMe, message} = props;\n    const [chat,me, socket] = useContext ( MyContext );\n    const styles = useStyles ();\n    const onCopy = () =>  navigator.clipboard.writeText(message.body)\n    if (message.event === MESSAGE_ENUM.CONNECTION) {\n        chat.setConnectionCounter(message.connectionCounter);\n    }\n    const style = {\n        backgroundColor: isMe ? '#3a64a8' : '#536f9b',\n        color:  isMe ? '#f6dbaa' :'#eee4cc',\n        marginLeft: isMe ? 'auto' : '10%',\n        marginRight: isMe ? '10%' : 0,\n        paddingRight:10\n\n    };\n\n    return (\n        <Grid direction={ \"column\" } container>\n            { message.event === MESSAGE_ENUM.MESSAGE\n                ? <div className={styles.mainBlock} style={ style }>\n                    <h3 className={styles.name}\n                        style={\n                            {justifySelf:`${!isMe && 'flex-end'}`,borderBottom:`2px solid ${isMe ? '#f6dbaa' :'#eee4cc' }`}\n                        }>\n                        { message.name?.toUpperCase() }\n                    </h3>\n                    <span>{ message.body }</span>\n                    <span className={styles.date}>{ timeConverter(message.date * 1000)  }</span>\n                    <div onClick={onCopy} style={isMe ? {right:2} : {left:6}\n                    } title={'скопировать сообщение'} className={styles.copy}>\n                        <ContentCopyIcon/>\n                    </div>\n            </div>\n                : message.event === MESSAGE_ENUM.CONNECTION ?\n                    <span className={ styles.info }>{ message.name } подключился к чату.. .</span>\n                    : <span className={ styles.info }>{ message.name } вышел из чата.. .</span> }\n        </Grid>\n    );\n});","import {makeStyles} from \"@mui/styles\";\n\nexport const useStyles = makeStyles({\n    emojiRoot: {\n        position: \"absolute\",\n        zIndex: 1,\n        top: 10,\n\n    },\n\n    picker:{\n        top:-350\n    },\n\n})","import * as React from 'react';\nimport {useContext, useState} from 'react';\nimport classNames from \"classnames\";\nimport Picker, {SKIN_TONE_MEDIUM_DARK} from \"emoji-picker-react\";\nimport {Button} from \"@mui/material\";\nimport EmojiEmotionsIcon from \"@mui/icons-material/EmojiEmotions\";\nimport {useStyles} from \"./styles\";\nimport {MyContext} from \"../../state/context\";\nimport {observer} from \"mobx-react-lite\";\n\n\n\ninterface IProps  {\n    frameWidth?:number\n}\n\nexport const Emoji: React.FC<IProps> = observer((props) => {\n    const {children,frameWidth = 0} = props;\n    const [chat,me,socket] = useContext ( MyContext );\n    const styles = useStyles ();\n    const [isShowEmoji, setIsShowEmoji] = useState ( false );\n    const showImoji = () => setIsShowEmoji ( true );\n    const hideImoji = () => setIsShowEmoji ( false );\n    const onEmojiClick = (event: any, emojiObject: any) => {\n        chat.setMessageValue ( emojiObject.emoji ) ;\n    };\n    return (\n        <div style={{right:`${frameWidth * 0.2}px`}} className={ classNames ( styles.emojiRoot, {[styles.picker]: isShowEmoji} ) }\n             onBlur={ hideImoji }>\n            { isShowEmoji\n                ? <Picker native groupNames={ {smileys_people: \"PEOPLE\"} } disableAutoFocus={ true }\n                          onEmojiClick={ onEmojiClick } skinTone={ SKIN_TONE_MEDIUM_DARK }/>\n                : <Button onClick={ showImoji }><EmojiEmotionsIcon/></Button> }\n        </div>\n    );\n});","import * as React from 'react';\nimport {useContext, useEffect, useRef, useState} from 'react';\nimport {Button, Container, Grid, TextField} from '@mui/material';\nimport {Loader} from \"../Loader/Loader\";\nimport {useStyles} from \"./styles\";\nimport {Message} from \"../Message/Message\";\nimport {Emoji} from \"../Emoji/Emoji\";\nimport {observer} from \"mobx-react-lite\";\nimport {IMessage} from '../../state/chatStore';\nimport {MyContext} from \"../../state/context\";\nimport {useFormik} from 'formik';\nimport MeStore from \"../../state/meStore\";\n\n\ntype Props = {}\n\n\nexport const Chat: React.FC<Props> = observer ( ((props) => {\n    const [chat,me, socket] = useContext ( MyContext );\n    const chatRef = useRef<HTMLDivElement> ( null );\n    const styles = useStyles ();\n    const sendMessage = () => {\n        if (!chat.messageValue.trim ()) return;\n        const message = {\n            event: 'message',\n            id: Date.now ().toString (),\n            name: me.me.email,\n            body: chat.messageValue,\n        };\n        socket?.send ( JSON.stringify ( message ) );\n        chat.setMessageValue ( '' );\n    };\n\n    const formik = useFormik ( {\n        initialValues: {\n            message: 'введите сообщение',\n        },\n        onSubmit: (values) => sendMessage (),\n    } );\n\n    const messagesArray = chat.messages;\n    const messagesLength = messagesArray.length;\n\n    const scrollToBottom = () => {\n        chatRef.current?.scrollTo ( 0, chatRef.current.scrollHeight );\n    };\n\n    useEffect ( () => {\n        scrollToBottom ();\n    } );\n\n    if (chat.isLoading) return <Loader/>;\n    return (\n        <Container>\n            <form onSubmit={ formik.handleSubmit }>\n                <Grid container className={ styles.messagesRoot } alignItems={ \"center\" }>\n                    <Grid ref={ chatRef } className={ styles.messages }>\n                        { messagesLength && chat.messages.map ( (mes: IMessage) => {\n                            const isMe = me.me.email === mes.name;\n                            return <Message key={ mes.id } isMe={ isMe } message={ mes }/>;\n                        } ) }\n                    </Grid>\n                </Grid>\n                <Grid className={ styles.newMessageRoot } container direction={ 'row' } alignItems={ 'flex-end' }>\n                    <TextField id={ 'message' } name={ 'message' } label={ 'message' } variant=\"filled\"\n                               autoComplete={ 'off' } onChange={ e => chat.setMessageValue ( e.currentTarget.value ) }\n                               value={ chat.messageValue } className={ styles.textField }\n                    />\n                    <Emoji frameWidth={ chatRef.current?.clientWidth }/>\n                    <Button type={ 'submit' } variant={ \"contained\" } className={styles.btn}><strong>send</strong></Button>\n\n                </Grid>\n            </form>\n        </Container>\n    );\n}) );","import {makeStyles} from \"@mui/styles\";\n\n\nexport const useStyles = makeStyles ( {\n    root: {\n        marginTop: '5%',\n        position: 'relative',\n\n    },\n    selectWrapper:{\n        maxWidth:100,\n        alignContent:\"center\"\n    },\n    alert: {\n        position: \"absolute\",\n        width: 300,\n        right:'25%',\n        opacity:0.7,\n        zIndex: 0,\n        top:'5%',\n\n    },\n    fieldWrapper:{\n        position:'relative'\n    },\n    validatorMessage:{\n        position: \"absolute\",\n        top:0,\n        right:'-124px',\n        width:120\n    }\n} );","import {Chat} from \"../components/Chat/Chat\";\nimport {Login} from \"../components/Login/Login\";\nimport {Registration} from \"../components/Registration/Registration\";\nimport {JoinOptions} from \"../components/JoinOptions/JoinOptions\";\nimport {Profile} from \"../components/Profile/Profile\";\n\n\nexport enum ROUTES {\n    LOGIN_ROUTE = '/login',\n    CHAT_ROUTE = '/chat',\n    REGISTRATION_ROUTE = '/registration',\n    JOIN_ROUTE = '/join',\n    PROFILE_ROUTE = '/profile',\n}\n\nexport const publicRoutes = [\n\n    {\n        path: ROUTES.JOIN_ROUTE,\n        Component: JoinOptions,\n    },\n    {\n        path: ROUTES.LOGIN_ROUTE,\n        Component: Login,\n    },\n    {\n        path: ROUTES.REGISTRATION_ROUTE,\n        Component: Registration,\n    },\n];\n\nexport const privateRoutes = [\n    {\n        path: ROUTES.CHAT_ROUTE,\n        Component: Chat,\n    },\n    {\n        path: ROUTES.PROFILE_ROUTE,\n        Component: Profile,\n    },\n];\n\n","import {LANG_OBJ} from \"../App/const\";\n\nexport const LANG_FORM_PROP:ILangForm = {\n    10 : LANG_OBJ.RU,\n    20 : LANG_OBJ.EN,\n\n}\n\nexport const LANGUAGE = {\n   RU : LANG_FORM_PROP[\"10\"],\n   EN : LANG_FORM_PROP[\"20\"]\n}\n\ninterface ILangForm {\n    [propName: number]: typeof LANG_OBJ,\n}","import {Alert, Box, Button, FormControl, Grid, Grow, InputLabel, MenuItem, Select, TextField} from '@mui/material';\nimport * as React from 'react';\nimport {useContext, useMemo} from 'react';\nimport {useFormik} from \"formik\";\nimport {MyContext} from \"../../state/context\";\nimport {useStyles} from \"./styles\";\nimport {LANG} from \"../App/const\";\nimport {LANGUAGE} from \"./const\";\nimport {validateEmail} from \"../../utils/validator\";\nimport {validate} from \"./validator\";\n\n\nexport const BasicJoinForm: React.FC<IProps> = (props) => {\n    const {onSubmit, children, title, withOptions = false, submitButtonText, showAlert = false, onCloseAlert,} = props;\n    const [chat, me, socket] = useContext(MyContext);\n    const styles = useStyles();\n    const formik = useFormik({\n        initialValues: {\n            name: '',\n            email: '',\n            password: '',\n            country: '',\n            city: '',\n            language: LANGUAGE.RU,\n        },\n        validate: (values) => validate(values, withOptions),\n\n        onSubmit: (values) => {\n            const {name, password, city, country, language, email} = values\n            try {\n                onSubmit && onSubmit({name, password, city, country, language, email});\n            } catch (e) {\n                console.log(e);\n            }\n\n        },\n    });\n    return (\n        <form className={styles.root} onSubmit={formik.handleSubmit}>\n            <Box className={styles.alert}>\n                <Grow in={showAlert}>{\n                    <Alert onClose={onCloseAlert} severity=\"info\">{withOptions\n                    ? 'Введите имя которое будет использовано для регистрации и отправки сообщений в чате'\n                    : 'Введите имя указанное в процессе регистрации'}</Alert>\n                }\n                </Grow>\n                {/* Conditionally applies the timeout prop to change the entry speed. */}\n                <Grow\n                    in={showAlert}\n                    style={{transformOrigin: '0 0 0'}}\n                    {...(showAlert ? {timeout: 1000} : {})}\n                >\n                    {<Alert severity=\"info\">{withOptions\n                        ? 'Введите пароль который будет использован для регистрации'\n                        : 'Введите пароль указанный в процессе регистрации'}</Alert>}\n                </Grow>\n            </Box>\n            <Grid container justifyContent={\"center\"} alignItems={\"center\"}\n                  direction={'column'} gap={2}>\n                {title}\n                {withOptions && (\n                    <FormControl fullWidth classes={{root: styles.selectWrapper}}>\n                        <InputLabel id=\"select-label\">Язык</InputLabel>\n                        <Select\n                            labelId=\"select-label\"\n                            id=\"lang\"\n                            label=\"lang\"\n                            name=\"lang\"\n                            onChange={formik.handleChange}\n                            defaultValue={LANGUAGE.RU}\n                        >\n                            <MenuItem value={LANGUAGE.RU}>{LANG.RU}</MenuItem>\n                            <MenuItem value={LANGUAGE.EN}>{LANG.EN}</MenuItem>\n                        </Select>\n                    </FormControl>\n                )}\n                <div className={styles.fieldWrapper}>\n                    <TextField autoFocus variant=\"filled\"\n                               onChange={formik.handleChange}\n                               value={formik.values.email}\n                               required\n                               id=\"email\" name=\"email\" label=\"email\"\n                    />\n                   <Box className={styles.validatorMessage}>\n                           <Grow in={!!formik.errors.email}>{\n                               <Alert severity=\"error\">{formik.errors.email}</Alert>\n                           }\n                           </Grow>\n                   </Box>\n                </div>\n                {withOptions && (\n                    <div className={styles.fieldWrapper}>\n                        <TextField variant=\"filled\"\n                                   onChange={formik.handleChange}\n                                   value={formik.values.name}\n                                   required\n                                   id=\"name\" name=\"name\" label=\"name\"\n                        />\n                        <Box className={styles.validatorMessage}>\n                            <Grow in={!!formik.errors.name}>{\n                                <Alert severity=\"error\">{formik.errors.name}</Alert>\n                            }\n                            </Grow>\n                        </Box>\n                    </div>\n                )}\n\n                <div className={styles.fieldWrapper}>\n                    <TextField inputProps={{\n                        autoComplete: 'new-password',\n                        form: {\n                            autoComplete: 'off',\n                        },\n                    }} variant=\"filled\"\n                               onChange={formik.handleChange}\n                               value={formik.values.password} type=\"password\"\n                               id=\"password\" name=\"password\" label=\"password\"\n                    />\n                    <Box className={styles.validatorMessage}>\n                        <Grow in={!!formik.errors.password}>{\n                            <Alert severity=\"error\">{formik.errors.password}</Alert>\n                        }\n                        </Grow>\n                    </Box>\n                </div>\n                {withOptions && (\n                    <>\n                        <TextField variant=\"filled\"\n                                   onChange={formik.handleChange}\n                                   value={formik.values.country}\n                                   id=\"country\" name=\"country\" label=\"country\"\n                        />\n                        <TextField variant=\"filled\"\n                                   onChange={formik.handleChange}\n                                   value={formik.values.city}\n                                   id=\"city\" name=\"city\" label=\"city\"\n                        />\n                    </>\n                )\n                }\n                <Button type=\"submit\" disabled={!formik.isValid || !formik.dirty} color={'info'}\n                        variant={'contained'}>{submitButtonText}</Button>\n            </Grid>\n        </form>\n    );\n};\n\ninterface IProps {\n    onSubmit?: (values: IJoinFormValues) => void;\n    onCloseAlert?: () => void;\n    submitButtonText: string;\n    withOptions?: boolean;\n    showAlert?: boolean;\n    title?: React.ReactNode\n};\n\nexport interface IJoinFormValues {\n    name: string,\n    email: string,\n    password: string,\n    city?: string,\n    country?: string,\n    language?: number\n}\n","import {validateEmail} from \"../../utils/validator\";\nimport {IJoinFormValues} from \"./BasicJoinForm\";\n\nexport const validate = (values:IJoinFormValues,withOptions:boolean) => {\n    const {name, password, city, country, language, email} = values\n    const errors: any = {};\n    if (withOptions && name.length <= 3 ) {\n        errors.name = 'Required more 3 symbols';\n    }\n    // if (!validateEmail(email)) {\n    //     errors.email = 'Incorrect';\n    // }\n    if (password.length <= 3) {\n        errors.password = 'Required more 3 symbols';\n    }\n    return errors\n\n}","import {makeStyles} from '@mui/styles';\nimport {title} from \"../../utils/styles\";\n\n\nexport const useStyles = makeStyles({\n    title:{\n        ...title,\n        textTransform:\"uppercase\",\n    }\n\n});","import {makeStyles} from '@mui/styles';\nimport {title} from \"../../utils/styles\";\n\n\nexport const useStyles = makeStyles({\n    children:{\n       display:\"grid\",\n        gridTemplateColumns:'1fr 24px',\n        columnGap:6,\n        cursor:\"pointer\"\n    },\n    title:{\n        ...title,\n        textTransform:\"uppercase\",\n    }\n\n});","import {makeStyles} from \"@mui/styles\";\n\nexport const useStyles = makeStyles({\n    root: {\n        marginTop: '4%',\n    },\n    btn: {\n        height: 100,\n        width: 300,\n\n    }\n\n})","import {Button, Grid} from \"@mui/material\";\nimport {NavLink} from \"react-router-dom\";\nimport {ROUTES} from \"../../utils/routes\";\nimport * as React from \"react\";\nimport {useStyles} from \"./styles\";\n\nexport const JoinOptions: React.FC = () => {\n    const styles = useStyles();\n    return (\n        <Grid className={styles.root} container justifyContent={\"center\"} direction={\"column\"} alignItems={\"center\"}\n              gap={10}>\n            {/*<FanFact text={'test'}/>*/}\n            <Grid item><NavLink to={ROUTES.REGISTRATION_ROUTE}>< Button size={'large'}\n                variant={'contained'} classes={{root: styles.btn}}>Регистрация</Button>\n            </NavLink></Grid>\n            <Grid item><NavLink to={ROUTES.LOGIN_ROUTE}>< Button size={'large'}\n                variant={'contained'} classes={{root: styles.btn}}>Вход</Button>\n            </NavLink></Grid>\n        </Grid>\n    )\n}","import * as React from 'react';\nimport {useContext} from 'react';\nimport {MyContext} from \"../../state/context\";\nimport {BasicJoinForm, IJoinFormValues} from \"../BasicJoinForm/BasicJoinForm\";\nimport {useStyles} from './styles'\n\n\nexport const Login: React.FC = () => {\n    const styles = useStyles()\n    const [chat, me, socket] = useContext(MyContext);\n\n    const onSubmit = (values:IJoinFormValues) => {\n        const {password,email} = values;\n        me.login(email, password)\n    }\n\n    return (\n        <BasicJoinForm onSubmit={onSubmit}\n                       submitButtonText={\"Войти\"}\n                       title={(\n            <div className={styles.title}> Вход </div>\n        )}>\n\n        </BasicJoinForm>\n    );\n};\n\n","import * as React from 'react';\nimport {useCallback, useContext, useState} from 'react';\nimport {BasicJoinForm, IJoinFormValues} from \"../BasicJoinForm/BasicJoinForm\";\nimport HelpIcon from \"@mui/icons-material/Help\";\nimport {useStyles} from \"./styles\";\nimport {MyContext} from \"../../state/context\";\n\n\nexport const Registration: React.FC<Props> = () => {\n    const styles = useStyles();\n    const [showAlert, setShowAlert] = useState(false);\n    const [chat, me, socket] = useContext(MyContext);\n    let timeOutId: NodeJS.Timeout;\n    const onSubmit = async (values:IJoinFormValues) => {\n        const {country,language,city,password,name,email} = values\n        await me.registration({name,email, password, city, country, language});\n    };\n\n    const onShowAlert = useCallback(() => {\n        setShowAlert(true);\n        timeOutId = setTimeout(() => {\n            setShowAlert(false);\n        }, 5000);\n    }, []);\n    const onCloseAlert = useCallback(() => {\n        setShowAlert(false);\n        clearTimeout(timeOutId);\n    }, []);\n\n    return (\n        <BasicJoinForm\n            onCloseAlert={onCloseAlert}\n            showAlert={showAlert}\n            onSubmit={onSubmit}\n            submitButtonText={\"Зарегистрироваться\"}\n            withOptions\n            title={(\n                <div className={styles.children} onClick={showAlert ? onCloseAlert : onShowAlert}>\n                    <div className={styles.title}> Регистрация</div>\n                    <HelpIcon/>\n                </div>\n            )}/>\n    );\n};\ntype Props = {};\n","import {makeStyles} from \"@mui/styles\";\n\n\nexport const useStyles = makeStyles({\n    root: {\n        margin: '10px 0',\n        maxWidth: '15vw'\n    },\n    description: {\n        fontSize: '0.8em',\n        color: \"grey\",\n        '&>div>strong': {\n            fontSize: '1.1em',\n        }\n    },\n    iconWrapper: {\n        position: \"relative\"\n    },\n    icon: {\n        position: 'absolute',\n        width: 60,\n        height: 60,\n        top: -24,\n        right:-24\n    }\n\n});","import * as React from 'react';\nimport {useContext, useEffect} from \"react\";\nimport {MyContext} from \"../../state/context\";\nimport {toJS} from \"mobx\";\nimport {Grid, Icon, Table, TableCell, TableRow} from \"@mui/material\";\nimport {observer} from \"mobx-react-lite\";\nimport {useStyles} from \"./styles\";\n\n\ninterface IProps {\n\n}\n\n\n\nexport const Weather: React.FC<IProps> = observer((props) => {\n    const {children} = props;\n    const [chat, me, socket,utility] = useContext ( MyContext );\n    const styles = useStyles();\n    useEffect(()=>{\n        utility.fetchWeather();\n    },[])\n    console.log (toJS(utility.weather));\n    return (\n        <Grid container direction={\"column\"} classes={{root:styles.root}}>\n                <Table>\n                    <TableRow >\n                        <TableCell padding={\"checkbox\"}\n                            align={'left'}\n                        >\n                            <span>{utility?.weather?.name}</span>\n                        </TableCell>\n                        <TableCell classes={{root:styles.iconWrapper}} padding={\"checkbox\"}\n                            align={'right'}\n                        >\n                            <img className={styles.icon} src={utility?.weather?.weather?.icon}/>\n                        </TableCell>\n                </TableRow>\n                    <TableRow>\n                        <TableCell padding={\"checkbox\"}\n                            align={'left'}\n                        >\n                            <span>температура воздуха </span>\n                        </TableCell>\n                        <TableCell padding={\"checkbox\"}\n                            align={'right'}\n                        >\n                            <strong>{\n                                //273.15 kelvin\n                                //need to add &units=metric\n                                Math.ceil(utility?.weather?.main?.temp - 273.15)\n                            }</strong>\n                        </TableCell>\n                </TableRow>\n                    <TableRow>\n                        <TableCell padding={\"checkbox\"}\n                            align={'left'}\n                        >\n                            <span> ощущается как </span>\n                        </TableCell>\n                        <TableCell padding={\"checkbox\"}\n                            align={'right'}\n                        >\n                            <strong>{\n                                //273.15 kelvin\n                                //need to add &units=metric\n                                Math.ceil(utility?.weather?.main?.feels_like - 273.15)\n                            }</strong>\n                        </TableCell>\n                    </TableRow>\n                </Table>\n                {/*<div><span>температура воздуха </span>*/}\n                {/*    <strong>{*/}\n                {/*        //273.15 kelvin*/}\n                {/*        //need to add &units=metric*/}\n                {/*        Math.ceil(utility?.weather?.main?.temp - 273.15)*/}\n                {/*    }</strong>*/}\n                {/*</div>*/}\n                {/*<div><span> ощущается как </span>*/}\n                {/*    <strong>{*/}\n                {/*        //273.15 kelvin*/}\n                {/*        //need to add &units=metric*/}\n                {/*        Math.ceil(utility?.weather?.main?.feels_like - 273.15)*/}\n                {/*    }</strong>*/}\n                {/*</div>*/}\n        </Grid>\n    );\n});","import * as React from 'react';\nimport {useCallback, useContext, useRef} from 'react';\nimport {AppBar, Button, Grid} from '@mui/material';\nimport {useStyles} from \"./styles\";\nimport {MyContext} from \"../../state/context\";\nimport {observer} from \"mobx-react-lite\";\nimport {Clock} from \"../Clock/Clock\";\nimport {NavLink, useLocation} from 'react-router-dom';\nimport {ROUTES} from \"../../utils/routes\";\nimport {Weather} from \"../Weather/Weather\";\n\n\ntype Props = {};\nexport const NavBar: React.FC<Props> = observer ( (props) => {\n    const [chat, me, socket] = useContext ( MyContext );\n    const {connectionCounter} = chat;\n    const styles = useStyles ();\n    const clockRef = useRef<HTMLDivElement> ( null );\n    const isAuthorized = !!me.me.email;\n    const isLoginPage = useLocation ().pathname.includes ( ROUTES.LOGIN_ROUTE );\n    const isLJoinPage = useLocation ().pathname.includes ( ROUTES.JOIN_ROUTE );\n    const emptyBoxWidth = clockRef?.current?.offsetWidth || 0;\n    const onLogout = useCallback ( () => me.logout (), [] );\n    return (\n        <AppBar color={ \"transparent\" } variant={ \"outlined\" } elevation={ 0 } position=\"static\">\n            <Grid container item alignItems={ \"center\" } justifyContent={ 'space-evenly' }>\n                <div style={ {minWidth: emptyBoxWidth || '11vw'} }>\n                    {isAuthorized && <Weather/>}\n                </div>\n                <div className={ styles.title }>\n                    <div>{ 'Чат имени Альфредо Гарсии' }</div>\n                    { isAuthorized ?\n                        <span className={ styles.onlineCounter }>\n                                сейчас онлайн: { connectionCounter || 0 } человек\n                            </span>\n                        : !isLJoinPage && (isLoginPage\n                            ? <Grid item><NavLink to={ ROUTES.REGISTRATION_ROUTE }>< Button\n                                variant={ 'text' }>к регистрации</Button></NavLink></Grid>\n                            : <Grid item><NavLink to={ ROUTES.LOGIN_ROUTE }>< Button\n                                variant={ 'text' }>к логину</Button></NavLink>\n                            </Grid>\n                    ) }\n\n                </div>\n                <Clock clocRef={ clockRef }/>\n                { isAuthorized && <Button onClick={ onLogout } variant={ 'outlined' }>Logout</Button> }\n            </Grid>\n        </AppBar>\n    );\n} );","import axios from \"axios\";\nimport {IUser} from \"../service/AuthService\";\n\n\n// const baseURL = 'http://localhost:5000';\nconst baseURL = 'https://ws-simple-chat-api.herokuapp.com/';\n\nconst chatApiInstance = axios.create({baseURL});\n\nchatApiInstance.interceptors.request.use((config)=>{\n    if ( config && config.headers) {\n        config.headers.Authorization = `Bearer ${ localStorage.getItem ( 'token' ) }`;\n        return config\n    }\n});\n\nchatApiInstance.interceptors.response.use((config)=>{\n    return config;\n},async (error) => {\n    const originalRequest = error.config;\n    if (error.response.status === 401 && error.config && !error.config._isRetry) {\n        originalRequest._isRetry = true;\n        try {\n            const response = await axios.post<AuthResponse>(`${baseURL}/auth/refresh`, {withCredentials: true})\n            localStorage.setItem('token', response.data.accessToken);\n            return chatApiInstance.request(originalRequest);\n        } catch (e) {\n            console.log('НЕ АВТОРИЗОВАН')\n        }\n    }\n    throw error;\n});\n\n\nexport default chatApiInstance;\n\nexport interface AuthResponse {\n    accessToken: string;\n    refreshToken: string;\n    user: IUser;\n}","import {AxiosResponse} from \"axios\";\nimport instance from \"../http/chatApiInstance\";\nimport {IJoinFormValues} from \"../components/BasicJoinForm/BasicJoinForm\";\nimport {LANG} from \"../components/App/const\";\n\n\nexport default class AuthService {\n    static async login(email: string, password: string): Promise<AxiosResponse<IAuthResponse>> {\n        return instance.post ( 'auth/login', {email, password} );\n    }\n\n    static async registration(values:IJoinFormValues): Promise<AxiosResponse<IAuthResponse>> {\n        const {password,name,country,language,city,email} = values;\n        return instance.post ( 'auth/registration', {email,password,name,country,language,city} );\n    }\n\n    static async logout(): Promise<void> {\n        return instance.delete ( 'auth/logout' );\n    }\n    static async refresh(): Promise<AxiosResponse<IAuthResponse>> {\n        return instance.post ( 'auth/refresh' );\n    }\n}\n\nexport interface IAuthResponse {\n    accessToken: string;\n    refreshToken: string;\n    user: IUser;\n}\n\nexport interface IUser {\n    email: string;\n    name: string;\n    language: LANG;\n    location:{country:string,city:string}\n    id: string;\n    isActivated: boolean;\n\n}","import {makeAutoObservable} from \"mobx\";\nimport AuthService, {IAuthResponse, IUser} from \"../service/AuthService\";\nimport {AxiosResponse} from \"axios\";\nimport {IJoinFormValues} from \"../components/BasicJoinForm/BasicJoinForm\";\n\n\ninterface IMEStore {\n    me: IUser | null;\n}\n\nclass MeStore implements IMEStore {\n    me = {} as IUser;\n\n\n    constructor() {\n        makeAutoObservable ( this, {}, {deep: true} );\n    }\n\n    setMe(item: IUser | null) {\n        if (item) {\n            this.me = item;\n        } else {\n            this.me = {} as IUser\n        }\n    };\n\n    setAuthData(data: AxiosResponse<IAuthResponse, any>) {\n        localStorage.setItem ( 'token', data.data.accessToken );\n        this.setMe ( data.data.user );\n    }\n\n    async login(email: string, password: string) {\n        try {\n            const response = await AuthService.login ( email, password );\n            this.setAuthData ( response );\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n\n    async registration(values:IJoinFormValues) {\n        const {password,name,country,language,city,email} = values;\n        try {\n            const response = await AuthService.registration ({password,email, name, country, language, city});\n            this.setAuthData ( response );\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n\n    async refresh() {\n        try {\n            const response = await AuthService.refresh ();\n            localStorage.setItem ( 'token', response.data.accessToken );\n            this.setMe ( response.data.user );\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n    async logout() {\n        try {\n            const response = await AuthService.logout();\n            this.setMe ( null );\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n\n}\n\nexport default MeStore;","import {Redirect, Route, Switch} from 'react-router-dom';\nimport * as React from \"react\";\nimport {privateRoutes, publicRoutes, ROUTES} from \"../../utils/routes\";\n\n\n\nconst AppRoute:React.FC = () => {\n\n    const isAuthorized = false\n\n    return isAuthorized ?\n        <Switch>\n            { privateRoutes.map ( ({path, Component}) => {\n                return <Route key={ path } path={ path } component={ Component } exact={ true }/>\n            } ) }\n            <Redirect to={ROUTES. CHAT_ROUTE }/>\n        </Switch>\n        :\n        <Switch>\n            { publicRoutes.map ( ({path, Component}) => {\n                return <Route key={ path } path={ path } component={ Component } exact={ true }/>\n            } ) }\n            <Redirect to={ ROUTES.JOIN_ROUTE }/>\n        </Switch>\n}\n\n\nexport default AppRoute;\n","import axios from \"axios\";\n\n\nconst baseURL = 'http://api.fungenerators.com/fact/';\nconst dayFactApiInstance = axios.create({baseURL});\nexport default dayFactApiInstance;\n\n","import {AxiosResponse} from \"axios\";\nimport instance from \"../http/funFactApiInstance\";\n\n\nexport default class DayFactService {\n    static async fetchFact(): Promise<AxiosResponse<IDayFactResponse>> {\n        return instance.get ('random',)\n    }\n\n}\n\ninterface IDayFactResponse {\n    \"success\": {\n        total: number\n    },\n    \"contents\": {\n        fact: string,\n        id: string,\n        category: string,\n        subcategory: string\n    }\n}\n","import {AxiosResponse} from \"axios\";\nimport chatInstance from '../http/chatApiInstance'\n\n\nexport default class WeatherService {\n    static async fetchWeather(): Promise<AxiosResponse<IWeatherResponse>> {\n        return chatInstance.get (`/utils/weather`,{\n\n        })\n    }\n\n}\n\nexport interface IWeatherResponse {\n    \"coord\": {\n        \"lon\": number,\n        \"lat\": number\n    },\n    \"weather\": [\n        {\n            \"id\": number,\n            \"main\": string,\n            \"description\": string,\n            \"icon\": string\n        }\n    ],\n    \"base\": string,\n    \"main\": {\n        \"temp\":number,\n        \"pressure\": number,\n        \"humidity\": number,\n        \"temp_min\": number,\n        \"temp_max\":number\n    },\n    \"visibility\": number,\n    \"wind\": {\n        \"speed\": number,\n        \"deg\": number\n    },\n    \"clouds\": {\n        \"all\": number\n    },\n    \"dt\": number,\n    \"sys\": {\n        \"type\": number,\n        \"id\": number,\n        \"message\": number,\n        \"country\": string,\n        \"sunrise\": number,\n        \"sunset\": number\n    },\n    \"id\": number,\n    \"name\": string,\n    \"cod\": number\n}\n\n","import {makeAutoObservable} from \"mobx\";\nimport AuthService, {IAuthResponse, IUser} from \"../service/AuthService\";\nimport {AxiosResponse} from \"axios\";\nimport DayFactService from \"../service/DayFactService\";\nimport WeatherService, {IWeatherResponse} from \"../service/WeatherService\";\n\n\ninterface IUtilityStore {\n    fact:string\n    weather:IWeatherResponse\n}\n\nclass UtilityStore implements IUtilityStore {\n    fact = '';\n    weather = {} as IWeatherResponse;\n\n\n    constructor() {\n        makeAutoObservable ( this, {}, {deep: true} );\n    }\n\n    setFact(item: string) {\n        if (item) {\n            this.fact = item;\n        } else {\n            this.fact = ''\n        }\n    };\n    setWeather(item: IWeatherResponse) {\n        if (item) {\n            this.weather = item;\n        } else {\n            this.weather = {} as IWeatherResponse\n        }\n    };\n\n    async fetchFact() {\n        try {\n            const response = await DayFactService.fetchFact();\n            this.setFact ( response.data.contents.fact );\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n async fetchWeather() {\n        try {\n            const response = await WeatherService.fetchWeather();\n            this.setWeather(response.data) ;\n        } catch (e: any) {\n            console.warn ( e.response?.data?.message );\n        }\n    };\n\n\n}\n\nexport default UtilityStore;","import * as React from 'react';\nimport {useEffect, useState} from 'react';\nimport {NavBar} from \"../NavBar/NavBar\";\nimport './App.css';\nimport {Loader} from \"../Loader/Loader\";\nimport {HashRouter} from 'react-router-dom';\nimport ChatStore, {MESSAGE_ENUM} from \"../../state/chatStore\";\nimport {observer} from \"mobx-react-lite\";\nimport {MyContext} from '../../state/context';\nimport MeStore from \"../../state/meStore\";\nimport {Chat} from \"../Chat/Chat\";\nimport AppRoute from \"../AppRoute/AppRoute\";\nimport utilityStore from \"../../state/utilityStore\";\nimport {toJS} from \"mobx\";\n\n\nconst App: React.FC = observer ( (props) => {\n    const [chat] = useState ( () => new ChatStore () );\n    const [me] = useState ( () => new MeStore () );\n    const [utility] = useState ( () => new utilityStore () );\n    const [socket, setSocket] = useState<WebSocket | null> ( null );\n    const value = React.useMemo ( () => [chat, me, socket, utility], [chat, me, socket, utility] );\n    const isAuthorized = !!me.me.email;\n    console.log((toJS(me)));\n    const connect = async () => {\n        chat.setLoading ( true );\n        setSocket ( await new WebSocket ( 'wss://ws-simple-chat-api.herokuapp.com' ) );\n        // setSocket ( await new WebSocket ( 'ws://localhost:5000' ) );\n    };\n\n    useEffect ( () => {\n        if (localStorage.getItem ( 'token' )) {\n            me.refresh ();\n        }\n    }, [] );\n\n    useEffect ( () => {\n        if (!socket && isAuthorized) {\n            connect ();\n        }\n    }, [isAuthorized] );\n\n    if (socket) {\n        socket.onmessage = (messageEvent: MessageEvent) => {\n            chat.setMessages ( JSON.parse ( messageEvent.data ) );\n        };\n        socket.onopen = () => {\n            chat.setConnected ( true );\n            const message = {\n                event: MESSAGE_ENUM.CONNECTION,\n                id: me.me.id,\n                name: me.me.email,\n                body: me.me.email,\n            };\n            socket?.send ( JSON.stringify ( message ) );\n            chat.setLoading ( false );\n        };\n        socket.onmessage = (event: MessageEvent) => {\n            const messages = JSON.parse ( event.data );\n            chat.setMessages ( messages );\n        };\n        socket.onclose = () => {\n            chat.setConnected ( false );\n            const message = {\n                event: MESSAGE_ENUM.CONNECTION,\n                id: me.me.id,\n                name: me.me.email,\n                body: '',\n            };\n            socket.send ( JSON.stringify ( message ) );\n        };\n        socket.onerror = () => {\n            chat.setConnected ( false );\n            setTimeout ( () => connect (), 1000 );\n        };\n    }\n    if (chat.isLoading) return <Loader/>;\n\n\n    return (\n        <HashRouter>\n            <MyContext.Provider value={ value }>\n                <NavBar/>\n                { isAuthorized ?\n                    <Chat/>\n                    : <AppRoute/>\n                }\n            </MyContext.Provider>\n        </HashRouter>\n    );\n} );\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport App from \"./components/App/App\";\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n  <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}